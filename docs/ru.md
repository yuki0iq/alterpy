---
title: Справка по Альтерпаю
lang: ru-RU
---

TOC?

Альтерпай --- телеграм-бот, в которого я накидала всякой фигни, и который оказался кому-то нужен. Поиграться можно [в личке](https://alterpy_bot.t.me), или добавить её в какой-нибудь групповой чатик.
Можно также запустить своего Альтера --- клонировать репозиторий, установить зависимости, настроить конфиги и `python3 main.py`.

Альтерпай изначально задумывалась модульной на все 146% внутренностей, но вышло что вышло. Пока отдельными модулями являются _пакеты команд_, которые отвечают за разные разности.

Альтерпай почти никогда не напишет первой. Альтерпай умеет только _отвечать_ на какие-то внешние сообщения. Большинство обработчиков альтера смотрит на начало сообщения и обрабатывают _команды_.

Команды бывают нескольких видов --- обычные, управляющие, новые ролевые. Они отличаются набором префиксов и назначением. Для новых ролевых префикс --- только тильда, для управляющих --- плюс, минус и вопросительный знак, для обычных --- пустой (иногда), восклицательный знак, точка, "альтер", нижнее подчеркивание, решётка, прямой слеш и • --- жирная точка.

Обычные команды, которые не работают с пустым префиксом --- _толькопрефиксные_. Некоторые команды могут зависеть от наличия медиафайлов определенного типа.

Если команда требует дополнительных текстовых данных, она является _префиксной_. Дополнительные данные это остаток сообщения (без названия триггера команды) или текст прикреплённого ответа, если такой есть, что появится раньше.

Для некоторых префиксных команд забор текста из ответа не является "ожидаемым" поведением, и они забирают текст только из своего сообщения. Такие команды называются _собственными_.

По умолчанию команды считаются обычными, не толькопрефиксными, не префиксными, не собственными, не требующими определенных медиафайлов.

У многих команд есть синонимы, для того, чтобы было удобно набирать их с разных раскладок. Язык ответа команды не зависит от языка названия команды, а зависит от выбранного пользователем языка.

### start

- `start`. Добавлена, потому что телега отсылает ее при старте. Говорит всякую чушь, которую, видимо, надо переписать.


### ping

- `ping`, `пинг`, `test`, `тест`. Просто показать сколько миллисекунд уходит на обработку и как долго работает альтерпай.
- `stat`, `стат`. Как пинг, но еще вывести кучу бесполезной информации

Помимо команд для проверки жива ли Альтер можно использовать следующие пингователи: `бот`, `сдох?`, `ты где?`, 'слава партии`, `кто здесь власть`. На них Альтер отвечает чем-то простым.


```
#01 1> пинг
#02 A> [>>01] ПОНГ. Пинг -- /797.3мс/, обработка -- /0.5мс/
       Не падает, работает /3 часа 1 минуту 38 секунд/!
#03 1> тест
#04 A> [>>03] ПРОЙДЕН. Пинг -- /487.5мс/, обработка -- /0.2мс/
       Не падает вот уже /1 час 2 минуты 7 секунд/!
#05 1> слава партии
#06 A> [>>05] Слава Партии!
#07 1> .стат
#08 A> [>>07] ------ АльтерПай ------
       Запущена на `CPython 3.10.10 on Linux x86_64`
       Пинг -- /671.1мс/, обработка -- /0.5мс/
       Не падает, работает /3 часа 1 минуту 29 секунд/
       Скорость вычислений -- /15.5M/ операций в секунду
       ID чата -- `552514677`

       -- Текущее время --
       (MSK) 2023-05-28, 16:53:08
       (+05) 2023-05-28, 18:53:08
       (+07) 2023-05-28, 20:53:08
       -- Время запуска --
       (MSK) 2023-05-28, 13:51:39
       (+05) 2023-05-28, 15:51:39
       (+07) 2023-05-28, 17:51:39
```

Запущена на: интерпретатор, версия, ОС, архитектура.
Пинг: время от серверов телеги до бота, зависит от сатурна.
Обработка: время от бота до обработчика команды, зависит от меркурия.
Время работы: время с запуска бота.
Скорость вычислений: примерная производительность сервера, зависит от фазы луны.
ID чата: номер чата из API телеги.
Текущее время: время в Москве, Екатеринбурге и Красноярске.
Время запуска: время в тех же городах, когда бот был запущен.


### keyboard

_Hfcrkflrf и transliteratsiya_

- `kb`, `ли`, `layout`, `дфнщге`, `раскладка`, `hfcrkflrf`, `рас`, `hfc` — меняют раскладку аргумента с QWERTY на ЙЦУКЕН и наоборот.
- `trl`, `translit`, `iuliia`, `трл`, `транслит`, `йуля` — транслитерирует русский на английский и наоборот (немного криво).

Обе команды префиксные.

```
#01 1> ghbdtn dctv!
#02 1> [>>01] hfc
#03 A> [>>02] привет всем!
#04 1> трл проверка language
#05 A> [>>04] proverka лангуаге
```


### random

- `шанс`, `вер`, `вероятность`, `инфа`, `prob`, `chance` _чего_. Случайное число от 0 до 100 как "вероятность" события. Непрефиксная команда.
- `выбери`, `choose`, `select` _из чего_. Выбрать один элемент из списка, разделённого словом "или" или словом "or". Префиксная команда.
- <Опрос>. Выбрать один вариант ответа из опроса

```
#01 2> что купить:
#02 2> макароны или картошку?
#03 1> [>>02] выбери
#04 A> [>>03] Звёзды говорят макароны
#05 1> шанс того что 2 сделает как сказала альтер
#06 A> [>>05] Питон передаёт 17%
#07 1> понимаю... 
#08 1> [Poll: Альтерпай точно знает, что делает?]
         ( ) Да
         ( ) Нет
         ( ) тык
#09 A> [>>08] Я выбрала тык
#10 1> Промолчала, да?)
```

### me

- `я`, `me`. Префиксная команда, для переписывания сообщения в третьем лице

```
#01 1> /я мяукнула
--- A> AlterPy удалила сообщение #01
#02 A> * user1 мяукнула
#03 2> .me съела ацетат
--- A> AlterPy удалила сообщение #03
#04 A> * щука съела ацетат
```

### advice

- `совет`, `adv` _кому_. Толькопрефиксная команда. Дать совет аргументу команды.

Советы берутся из [одного API](https://fucking-great-advice.ru). Команда портирована из [открытого кода catpy](https://github.com/Catware-Foundation/Catpy-Software/blob/main/advice.py).

Отключена до реализации поддержки "опасных" команд.

```
#01 1> .совет альтеру
#02 A> [>>01] Охуенный блять совет альтеру: Не ссы бля, сделай как хочется!
#03 1> .совет
#04 A> [>>03] Хуёвый блять совет: Не торопи блять события! 
```


### tts

Набор префиксных команд для озвучивания текста на разных языках. Команды _привязаны_ к языку.

- Русский: `озвучь`
- Английский: `tts`
- Японский: `vnsay`
- Китайский: `sayccp`
- Корейский: `kosay`
- Украинский: `мова божія`
Пример работы:

```
#01 2> Всем чмоки в этом чятике!
#02 1> [>>01] озвучь
#03 A> [>>02] [Voice message]
```

Озвучивание на языке, не соответствующем языку текста может приводить к неожиданным результатам.

```
#01 1> паляниця
#02 2> [>>01] озвучь
#03 A> [>>02] [Voice message]
#04 1> Не так!
#05 1> [>>01] мова божія
#06 A> [>>05] [Voice message]
#07 1> Так-то лучше!
```


### kek

Кеки — это "отвечатели" на сообщения, написанные на скорую руку и скорее всего не несущие особого смысла. Пока существует один постоянный кек — `спокойной ночи` и три вероятных — `да`, `нет`, `дура`. Условия кеков указаны ниже. Вероятные кеки отвечают не на каждое сообщение.

- `да`: сообщение оканчивается на "да"
- `нет`: сообщение оканчивается на "нет"
- `дура`: сообщение оканчивается на "дура"
- `спокойной ночи`: сообщение начинается на "спокойной ночи" или "всем спокойной ночи"

